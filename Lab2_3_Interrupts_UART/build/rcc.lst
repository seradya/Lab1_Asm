ARM GAS  /tmp/ccuvn73z.s 			page 1


   1              		.cpu cortex-m3
   2              		.arch armv7-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"rcc.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.sysclk_init,"ax",%progbits
  18              		.align	1
  19              		.global	sysclk_init
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  24              	sysclk_init:
  25              	.LFB72:
  26              		.file 1 "Core/Src/rcc.c"
   1:Core/Src/rcc.c **** 
   2:Core/Src/rcc.c **** #include "stm32l1xx.h"
   3:Core/Src/rcc.c **** #include "rcc.h"
   4:Core/Src/rcc.c **** 
   5:Core/Src/rcc.c **** 
   6:Core/Src/rcc.c **** void sysclk_init(void)
   7:Core/Src/rcc.c **** {
  27              		.loc 1 7 1 view -0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 0
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31              		@ link register save eliminated.
   8:Core/Src/rcc.c ****     // Enable HSI
   9:Core/Src/rcc.c **** 	RCC->CR |= RCC_CR_HSION;
  32              		.loc 1 9 2 view .LVU1
  33              		.loc 1 9 10 is_stmt 0 view .LVU2
  34 0000 214A     		ldr	r2, .L5
  35 0002 1368     		ldr	r3, [r2]
  36 0004 43F00103 		orr	r3, r3, #1
  37 0008 1360     		str	r3, [r2]
  10:Core/Src/rcc.c **** 	while(!(RCC->CR & RCC_CR_HSIRDY)){};
  38              		.loc 1 10 2 is_stmt 1 view .LVU3
  39              	.L2:
  40              		.loc 1 10 36 discriminator 1 view .LVU4
  41              		.loc 1 10 7 discriminator 1 view .LVU5
  42              		.loc 1 10 13 is_stmt 0 discriminator 1 view .LVU6
  43 000a 1F4B     		ldr	r3, .L5
  44 000c 1B68     		ldr	r3, [r3]
  45              		.loc 1 10 7 discriminator 1 view .LVU7
  46 000e 13F0020F 		tst	r3, #2
  47 0012 FAD0     		beq	.L2
  48              		.loc 1 10 37 is_stmt 1 discriminator 2 view .LVU8
ARM GAS  /tmp/ccuvn73z.s 			page 2


  11:Core/Src/rcc.c **** 
  12:Core/Src/rcc.c ****     //64 bit flash memory access
  13:Core/Src/rcc.c ****     FLASH->ACR |= FLASH_ACR_ACC64;
  49              		.loc 1 13 5 discriminator 2 view .LVU9
  50              		.loc 1 13 16 is_stmt 0 discriminator 2 view .LVU10
  51 0014 1D4B     		ldr	r3, .L5+4
  52 0016 1A68     		ldr	r2, [r3]
  53 0018 42F00402 		orr	r2, r2, #4
  54 001c 1A60     		str	r2, [r3]
  14:Core/Src/rcc.c **** 
  15:Core/Src/rcc.c **** 	// Enable Prefetch
  16:Core/Src/rcc.c **** 	FLASH->ACR |= FLASH_ACR_PRFTEN;
  55              		.loc 1 16 2 is_stmt 1 discriminator 2 view .LVU11
  56              		.loc 1 16 13 is_stmt 0 discriminator 2 view .LVU12
  57 001e 1A68     		ldr	r2, [r3]
  58 0020 42F00202 		orr	r2, r2, #2
  59 0024 1A60     		str	r2, [r3]
  17:Core/Src/rcc.c **** 
  18:Core/Src/rcc.c **** 	// Flash one wait state
  19:Core/Src/rcc.c **** 	FLASH->ACR |= FLASH_ACR_LATENCY;
  60              		.loc 1 19 2 is_stmt 1 discriminator 2 view .LVU13
  61              		.loc 1 19 13 is_stmt 0 discriminator 2 view .LVU14
  62 0026 1A68     		ldr	r2, [r3]
  63 0028 42F00102 		orr	r2, r2, #1
  64 002c 1A60     		str	r2, [r3]
  20:Core/Src/rcc.c **** 
  21:Core/Src/rcc.c **** 	// HCLK = SYSCLK
  22:Core/Src/rcc.c **** 	RCC->CFGR |= RCC_CFGR_HPRE_DIV1;
  65              		.loc 1 22 2 is_stmt 1 discriminator 2 view .LVU15
  66              		.loc 1 22 12 is_stmt 0 discriminator 2 view .LVU16
  67 002e A3F58063 		sub	r3, r3, #1024
  68 0032 9A68     		ldr	r2, [r3, #8]
  69 0034 9A60     		str	r2, [r3, #8]
  23:Core/Src/rcc.c **** 
  24:Core/Src/rcc.c **** 	// PCLK2 = HCLK
  25:Core/Src/rcc.c **** 	RCC->CFGR |= RCC_CFGR_PPRE2_DIV1;
  70              		.loc 1 25 2 is_stmt 1 discriminator 2 view .LVU17
  71              		.loc 1 25 12 is_stmt 0 discriminator 2 view .LVU18
  72 0036 9A68     		ldr	r2, [r3, #8]
  73 0038 9A60     		str	r2, [r3, #8]
  26:Core/Src/rcc.c **** 
  27:Core/Src/rcc.c **** 	// PCLK1 = HCLK
  28:Core/Src/rcc.c **** 	RCC->CFGR |= RCC_CFGR_PPRE1_DIV1;
  74              		.loc 1 28 2 is_stmt 1 discriminator 2 view .LVU19
  75              		.loc 1 28 12 is_stmt 0 discriminator 2 view .LVU20
  76 003a 9A68     		ldr	r2, [r3, #8]
  77 003c 9A60     		str	r2, [r3, #8]
  29:Core/Src/rcc.c **** 
  30:Core/Src/rcc.c **** 	// PLL configuration: PLLCLK = HSI*4/2 = 64 MHz
  31:Core/Src/rcc.c **** 	RCC->CFGR &= ~RCC_CFGR_PLLSRC;      //HSI sourse
  78              		.loc 1 31 2 is_stmt 1 discriminator 2 view .LVU21
  79              		.loc 1 31 12 is_stmt 0 discriminator 2 view .LVU22
  80 003e 9A68     		ldr	r2, [r3, #8]
  81 0040 22F48032 		bic	r2, r2, #65536
  82 0044 9A60     		str	r2, [r3, #8]
  32:Core/Src/rcc.c **** 	RCC->CFGR |= RCC_CFGR_PLLMUL4;      //Multiplication factor 4
  83              		.loc 1 32 2 is_stmt 1 discriminator 2 view .LVU23
ARM GAS  /tmp/ccuvn73z.s 			page 3


  84              		.loc 1 32 12 is_stmt 0 discriminator 2 view .LVU24
  85 0046 9A68     		ldr	r2, [r3, #8]
  86 0048 42F48022 		orr	r2, r2, #262144
  87 004c 9A60     		str	r2, [r3, #8]
  33:Core/Src/rcc.c ****     RCC->CFGR |= RCC_CFGR_PLLDIV2;      //Division 2
  88              		.loc 1 33 5 is_stmt 1 discriminator 2 view .LVU25
  89              		.loc 1 33 15 is_stmt 0 discriminator 2 view .LVU26
  90 004e 9A68     		ldr	r2, [r3, #8]
  91 0050 42F48002 		orr	r2, r2, #4194304
  92 0054 9A60     		str	r2, [r3, #8]
  34:Core/Src/rcc.c **** 
  35:Core/Src/rcc.c **** 	// Enable PLL
  36:Core/Src/rcc.c **** 	RCC->CR |= RCC_CR_PLLON;
  93              		.loc 1 36 2 is_stmt 1 discriminator 2 view .LVU27
  94              		.loc 1 36 10 is_stmt 0 discriminator 2 view .LVU28
  95 0056 1A68     		ldr	r2, [r3]
  96 0058 42F08072 		orr	r2, r2, #16777216
  97 005c 1A60     		str	r2, [r3]
  37:Core/Src/rcc.c **** 
  38:Core/Src/rcc.c **** 	// Wait till PLL is ready
  39:Core/Src/rcc.c **** 	while((RCC->CR & RCC_CR_PLLRDY) == 0) {};
  98              		.loc 1 39 2 is_stmt 1 discriminator 2 view .LVU29
  99              	.L3:
 100              		.loc 1 39 41 discriminator 1 view .LVU30
 101              		.loc 1 39 7 discriminator 1 view .LVU31
 102              		.loc 1 39 12 is_stmt 0 discriminator 1 view .LVU32
 103 005e 0A4B     		ldr	r3, .L5
 104 0060 1B68     		ldr	r3, [r3]
 105              		.loc 1 39 7 discriminator 1 view .LVU33
 106 0062 13F0007F 		tst	r3, #33554432
 107 0066 FAD0     		beq	.L3
 108              		.loc 1 39 42 is_stmt 1 discriminator 2 view .LVU34
  40:Core/Src/rcc.c **** 
  41:Core/Src/rcc.c **** 	// Select PLL as system clock source
  42:Core/Src/rcc.c **** 	RCC->CFGR &= ~RCC_CFGR_SW;
 109              		.loc 1 42 2 discriminator 2 view .LVU35
 110              		.loc 1 42 12 is_stmt 0 discriminator 2 view .LVU36
 111 0068 074B     		ldr	r3, .L5
 112 006a 9A68     		ldr	r2, [r3, #8]
 113 006c 22F00302 		bic	r2, r2, #3
 114 0070 9A60     		str	r2, [r3, #8]
  43:Core/Src/rcc.c **** 	RCC->CFGR |= RCC_CFGR_SW_PLL;
 115              		.loc 1 43 2 is_stmt 1 discriminator 2 view .LVU37
 116              		.loc 1 43 12 is_stmt 0 discriminator 2 view .LVU38
 117 0072 9A68     		ldr	r2, [r3, #8]
 118 0074 42F00302 		orr	r2, r2, #3
 119 0078 9A60     		str	r2, [r3, #8]
  44:Core/Src/rcc.c **** 
  45:Core/Src/rcc.c **** 	// Wait till PLL is used as system clock source
  46:Core/Src/rcc.c **** 	while ((RCC->CFGR & RCC_CFGR_SWS) != RCC_CFGR_SWS_PLL){};
 120              		.loc 1 46 2 is_stmt 1 discriminator 2 view .LVU39
 121              	.L4:
 122              		.loc 1 46 57 discriminator 1 view .LVU40
 123              		.loc 1 46 8 discriminator 1 view .LVU41
 124              		.loc 1 46 13 is_stmt 0 discriminator 1 view .LVU42
 125 007a 034B     		ldr	r3, .L5
 126 007c 9B68     		ldr	r3, [r3, #8]
ARM GAS  /tmp/ccuvn73z.s 			page 4


 127              		.loc 1 46 20 discriminator 1 view .LVU43
 128 007e 03F00C03 		and	r3, r3, #12
 129              		.loc 1 46 8 discriminator 1 view .LVU44
 130 0082 0C2B     		cmp	r3, #12
 131 0084 F9D1     		bne	.L4
  47:Core/Src/rcc.c **** }...
 132              		.loc 1 47 1 view .LVU45
 133 0086 7047     		bx	lr
 134              	.L6:
 135              		.align	2
 136              	.L5:
 137 0088 00380240 		.word	1073887232
 138 008c 003C0240 		.word	1073888256
 139              		.cfi_endproc
 140              	.LFE72:
 142              		.text
 143              	.Letext0:
 144              		.file 2 "/home/seradya/toolchains/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/machine/_de
 145              		.file 3 "/home/seradya/toolchains/gcc-arm-none-eabi-10.3-2021.10/arm-none-eabi/include/sys/_stdint
 146              		.file 4 "Drivers/CMSIS/Device/ST/STM32L1xx/Include/stm32l152xc.h"
ARM GAS  /tmp/ccuvn73z.s 			page 5


DEFINED SYMBOLS
                            *ABS*:0000000000000000 rcc.c
     /tmp/ccuvn73z.s:18     .text.sysclk_init:0000000000000000 $t
     /tmp/ccuvn73z.s:24     .text.sysclk_init:0000000000000000 sysclk_init
     /tmp/ccuvn73z.s:137    .text.sysclk_init:0000000000000088 $d

NO UNDEFINED SYMBOLS
